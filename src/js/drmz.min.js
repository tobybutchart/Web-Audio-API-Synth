var keyboardMap={q:36,w:37,e:38,a:39,s:40,d:41,z:42,x:43,c:44};function createDrumMachine(){document.getElementById("drum-machine").style.display="block"}function playDrumSound(b){const a=document.querySelector('audio[data-key="'+b+'"]');playDrumSoundFromElement(a)}function playDrumSoundFromElement(b){if(b&&b.key&&keyboardMap[b.key]){b=document.querySelector('audio[data-key="'+keyboardMap[b.key]+'"]')}if(!b||!b.dataset||!b.dataset.key){return}const a=document.querySelector('.key[data-key="'+b.dataset.key+'"]');if(!a||!a.dataset||!a.dataset.key){return}if(!drmAudio["key-"+a.dataset.key]){drmAudio["key-"+a.dataset.key]=audioContext.createMediaElementSource(b)}createPatching();b.currentTime=0;b.play();a.classList.add("playing")}function removeTransition(a){if(a.propertyName!=="transform"){return}this.classList.remove("playing")}window.addEventListener("keydown",playDrumSoundFromElement);const keys=document.querySelectorAll(".key");for(var i=0;i<keys.length;i++){keys[i].addEventListener("transitionend",removeTransition)};