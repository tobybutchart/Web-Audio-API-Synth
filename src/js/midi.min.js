function midiNoteToFreq(f){var e=440;var d=(e/32);var g=((f-9)/12);return d*Math.pow(2,g)}function freqToMidiNote(a){return Math.round(69+12*Math.log2(a/440))}function setMIDI(){navigator.requestMIDIAccess().then(onMIDISuccess,onMIDIFailure)}function onMIDIFailure(){console.log("Could not access your MIDI devices :(")}function onMIDISuccess(a){a.inputs.forEach(function(b){b.onmidimessage=getMIDIMessage})}function getMIDIMessage(c){var d=c.data[0];var a=c.data[1];var b=(c.data.length>2)?c.data[2]:0;switch(d){case 144:if(b>0){MIDINoteOn(a,b)}else{MIDINoteOff(a)}break;case 128:MIDINoteOff(a);break}}function MIDINoteOn(a){var b=midiNoteToFreq(a);if(a<36||a>43){startNote("",b)}else{playDrumSound(a)}}function MIDINoteOff(a){var b=midiNoteToFreq(a);stopNote("",b)};